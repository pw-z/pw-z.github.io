# 银行积分管理系统 需求


- [1. 2020年1月24日原始需求](#1-2020年1月24日原始需求)
  - [1.1. 技术需求](#11-技术需求)
  - [1.2. 功能需求](#12-功能需求)
    - [1.2.1. 用户管理模块](#121-用户管理模块)
    - [1.2.2. 用户管理模块](#122-用户管理模块)
    - [1.2.3. 积分产品管理模块](#123-积分产品管理模块)
    - [1.2.4. 礼品管理模块](#124-礼品管理模块)
    - [1.2.5. 客户积分管理模块](#125-客户积分管理模块)
    - [1.2.6. 积分兑换功能模块](#126-积分兑换功能模块)
    - [1.2.7. 报表功能](#127-报表功能)
    - [1.2.8. 系统控制](#128-系统控制)
- [2. 2020年03月07日需要补充、变更](#2-2020年03月07日需要补充变更)


---

## 1. 2020年1月24日原始需求

### 1.1. 技术需求

PC单机版、嵌入式数据库

### 1.2. 功能需求

#### 1.2.1. 用户管理模块

该软件为单一用户软件，仅提供修改密码功能，增加一个超级用户可修改单一用户密码，避免用户密码忘记的问题，该密码不允许修改。

#### 1.2.2. 用户管理模块

用户信息的增删改查（主要包含客户姓名、证件类型、身份证号、性别、联系方式、工作单位、家庭住址、备注，除工作单位、家庭住址和备注外其他项必填选项，身份证号和电话号码提供必要的的校验功能），客户信息删除功能仅限无积分记录的客户。

#### 1.2.3. 积分产品管理模块

积分信息的增删改查（积分信息包含：产品名称、产品期限、单位产品积分数、转介绍标识、备注；备注可不录入，其他都为必输项，产品期限和单位产品积分数为数值，提供必要的校验、转介绍表示默认为否）。

#### 1.2.4. 礼品管理模块

礼品的增删改查（礼品信息包含：产品名称、产品型号，采购价格、礼品过期标识、备注，礼品过期标识默认为否）仅提供礼品信息管理；不对产品的数量和库存等进行管理。过期的礼品不能进行删除和修改，仅提供查询功能。

#### 1.2.5. 客户积分管理模块

主要包含客户积分信息管理和客户积分兑换功能。 

客户积分信息管理模块主要包含客户姓名、身份证号码、账号（账号包含两种，一种是普通账号全部为数字(17\18)；另外一种为子账户提供普通账号-子帐号(9||18  + 3)，子帐号为三位，如：001、002，101等提供校验和使用说明）、产品名称（为积分产品管理模块管理登记的产品）、金额（金额单位为万元，提供必要校验此处不允许提供超过10000以上的数值）、业务办理时间、交易渠道（提供柜面和电子两种渠道）、积分数（该处不允许手动修改，应该为金额和单位积分数相乘得到的数值，该处产品名称的修改或金额的修改都将导致该处数据变化。）、转介绍人信息(仅输入转介绍人的身份证号即可，此处可以为空，此处不为空的需要为转介绍人增加一条积分信息，除个人信息外，其他信息与上面的信息一致，且转介绍积分标识为是，转介绍积分等级有两种形式，一种是固定积分制即每笔X积分；一种是按金额记，即计算方式同被介绍客户一致);积分信息修改仅允许修改金额，其他不允许修改，如果其他项有误可进行删除。

#### 1.2.6. 积分兑换功能模块

主要包含积分的全部以及部分兑换，对查询到的为兑换换积分进行兑换（查询必须输入客户身份证号码，避免查询到多人的积分信息进行兑换，兑换必须之兑换一人名下的积分）。选择一项后应该在底部显示当前需要兑换的积分数。点击确认后跳转到礼品选择页登记兑换的礼品。

#### 1.2.7. 报表功能

可以下载报表，统计报表包含以下类型的报表：

1. 指定时间段内的单个客户业务积分总数统计（按照由高到低排序）。
2. 指定时间段内已兑换的积分总数统计（按照由高到低排序）。
3. 指定时间段内未兑换的积分总数统计（按照由高到低排序）。
4. 指定时间段内礼品兑换统计（按照由高到低排序）。
5. 指定时间段内转介绍积分总数统计（按照由高到低排序）。
6. 指定时间段内转介绍业务笔数统计（按照由高到低排序）。

以上报表应包含客户的性别及年龄（身份证推算），报表应提供两种格式（PDF和Excel）。

#### 1.2.8. 系统控制

系统提供两种控制。

一种是试用阶段按积分表书记量不超过20条。

第二种为按年注册，注册码由三部分构成：

1. CPU码
2. 固定字段；
3. 使用截至时间。

（1）和（2）采用不可逆加密，（3）使用可逆加密方式，系统判断注册码是否过期。

---

## 2. 2020年03月07日需要补充、变更

1. 添加客户保存以及搜索结果的提示信息(弹窗提示) 
    * 编辑模式下，保存后显示提示信息  
        * 客户管理页面
        * 产品管理页面
        * 礼品管理页面
    * 搜索结果展示提示信息  
        * 客户搜索提示
        * 产品搜索提示
        * 礼品搜索提示 
2. 超级用户登录后只能更改密码
    * 添加旧密码验证机制 
    * 取消修改用户名的功能 
3. 完善礼品兑换功能模块 
    * 数据库新增礼品兑换记录表：
        * 礼品名称
        * 兑换数量
        * 日期
    * 点击兑换按钮后，弹出弹窗，包含以下内容：
        * 礼品列表： 礼品名称+礼品型号
        * 数量
        * 保存按钮
    * 在弹窗中点击保存后，将记录插入到数据库中
        * 弹窗提示成功与否
        * 关闭窗口
    * 报表导出
 1. !产品选择的绑定：许可证生成器，修改生成的许可证名称
    * 新增记录中，客户选择了产品，若此产品有转介绍版本：
           * 底部（转介绍人的）积分产品绑定对应的转介绍版本
               * 积分计算方式选择按金额计算的话，按照转介绍版本的单位积分计算转介绍人将获得的积分
               * 积分计算方式选择固定积分制的话：激活积分输入框，手动输入数值
    * 新增记录中，客户选择了产品，若此产品无转介绍版本：
           * 底部（转介绍人的）积分产品置空
           * 积分计算方式自动选择为固定积分制：手动输入积分
 2. 许可证生成器，修改生成的许可证名称
    * 名称为： 【机器码license.dat】的形式
    * 对应修改客户端许可证加载方法
 3. 完善文档：
    * 数据库设计文档
    * 用户使用文档
    * 安装文档
    * 开发环境配置说明
 4. 申请码直接显示在界面上，不用点击获取
 5. 积分管理界面只显示未兑换的记录